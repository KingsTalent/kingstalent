import{_ as g,s as d,m as p,o as r,c as a,a as l,b as u,p as h,d as m}from"./index-eL4D7F2W.js";const I={data(){return{isLoggedIn:!1,userData1:null}},methods:{async signInWithGoogle(){try{const e=window.open("","_blank"),{user:o,session:i,error:s}=await d.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href,shouldCreatePopup:!0}});if(s)throw s;e&&e.close(),console.log("登录成功",o,i),this.isLoggedIn=!0,this.userData1=o}catch(e){console.error("登录失败",e.message),signInWindow&&signInWindow.close()}},async signOut(){try{const{error:e}=await d.auth.signOut();if(e)throw e;this.$store.commit("resetState"),console.log("登出成功")}catch(e){console.error("登出失败",e.message)}}},mounted(){},computed:{...p(["userData","tableData","setlv"])}},f=e=>(h("data-v-928ad6f4"),e=e(),m(),e),_=f(()=>u("h1",null,"欢迎来到首页",-1)),w={key:1};function k(e,o,i,s,c,t){return r(),a("div",null,[_,c.isLoggedIn?l("",!0):(r(),a("button",{key:0,onClick:o[0]||(o[0]=(...n)=>t.signInWithGoogle&&t.signInWithGoogle(...n))},"使用 Google 登录")),u("button",{onClick:o[1]||(o[1]=(...n)=>t.signOut&&t.signOut(...n))},"登出"),c.isLoggedIn?(r(),a("div",w)):l("",!0)])}const b=g(I,[["render",k],["__scopeId","data-v-928ad6f4"]]);export{b as default};
