import{_ as l,s as c,m as d,o as r,c as n,a as u,b as g,p as h,d as p}from"./index-V2eJlFfQ.js";const m={data(){return{isLoggedIn:!1,userData1:null}},methods:{async signInWithGoogle(){try{const{user:e,session:t,error:s}=await c.auth.signInWithOAuth({provider:"google"});if(s)throw s;console.log("登录成功",e,t),this.isLoggedIn=!0,this.userData1=e}catch(e){console.error("登录失败",e.message)}},async signOut(){try{const{error:e}=await c.auth.signOut();if(e)throw e;this.$store.commit("resetState"),console.log("登出成功")}catch(e){console.error("登出失败",e.message)}}},mounted(){},computed:{...d(["userData","tableData","setlv"])}},I=e=>(h("data-v-aba91de0"),e=e(),p(),e),_=I(()=>g("h1",null,"欢迎来到首页",-1)),f={key:1};function b(e,t,s,k,i,o){return r(),n("div",null,[_,i.isLoggedIn?u("",!0):(r(),n("button",{key:0,onClick:t[0]||(t[0]=(...a)=>o.signInWithGoogle&&o.signInWithGoogle(...a))},"使用 Google 登录")),g("button",{onClick:t[1]||(t[1]=(...a)=>o.signOut&&o.signOut(...a))},"登出"),i.isLoggedIn?(r(),n("div",f)):u("",!0)])}const y=l(m,[["render",b],["__scopeId","data-v-aba91de0"]]);export{y as default};
